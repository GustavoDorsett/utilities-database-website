<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
<br>
<div class="progress" style="height: 25px;">
  <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
  <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
  <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Generators</div>
</div>
<br>
</head>

<h1>Add Power Generation</h1>
<form method="POST">
    <p>Please provide power generation details.</p>
    <input type="hidden" id="email" name="email" value={{ email }}>
    <label for="power_type">Type:</label>

    <select id="power_type" name="power_type">
        <option value="Solar-electric">Solar-electric</option>
        <option value="Wind">Wind</option>
    </select><br><br>

    <label for="monthly_kwh">Monthly kWh:</label>
    <input type="number" id="monthly_kwh" name="monthly_kwh" min="0" step="1" required><br><br>
    <label for="storage_kwh">Storage kWh:</label>
    <input type="number" id="storage_kwh" name="storage_kwh" min="0" step="1" required><br><br>       
        <a href="/end_submission/{{email}}">
            <button class="button" type="button" id="skip_button">Skip</button>
        </a>
    <br>
    <br>
    <input type="submit" formaction="/add_power/{{ email }}">

</form>
<script>
    if({{ skip }} == 1)
    {
        document.getElementById('skip_button').disabled = true;
        document.getElementById('skip_button').readonly = true;
        document.getElementById('skip_button').style['background-color'] = 'grey';
    }
    else{
        document.getElementById('skip_button').disabled = false;
        document.getElementById('skip_button').readonly = false;
        document.getElementById('skip_button').style['background-color'] = '';
    }
</script>
</body>
</html>
